{"version":3,"sources":["src/app/leaderboard/leaderboard.page.html","src/app/leaderboard/leaderboard.module.ts","src/app/leaderboard/leaderboard.page.scss","src/app/leaderboard/leaderboard.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-title>\\n      Leaderboard\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\">Leaderboard</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n  <ion-img src=\\\"assets/Winners_at_War_Logo.png\\\" style=\\\"margin: 10px 40px 10px 40px;\\\"></ion-img>\\n  <ion-card *ngFor=\\\"let player of players\\\">\\n    <img [src]=\\\"'assets/players/' + player.imagePath\\\"\\n      style=\\\"height:150px; width:150px; border-radius:10px; margin:10px auto 10px auto; display:block\\\" />\\n    <ion-card-header>\\n      <ion-card-subtitle>Score: {{getPlayerScore(player.playerId)}} points</ion-card-subtitle>\\n      <ion-card-title>{{player.firstName}}</ion-card-title>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <ion-list>\\n        <ion-item *ngFor=\\\"let survivor of getPlayerSurvivors(player.playerId)\\\">\\n          <ion-label>{{survivor.firstName}} {{survivor.lastName}} | {{getSurvivorScore(survivor)}} points</ion-label>\\n        </ion-item>\\n      </ion-list>\\n    </ion-card-content>\\n  </ion-card>\\n\\n</ion-content>\"","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { LeaderboardPage } from './leaderboard.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    RouterModule.forChild([{ path: '', component: LeaderboardPage }])\n  ],\n  declarations: [LeaderboardPage]\n})\nexport class LeaderboardPageModule {}\n","export default \"ion-content ion-toolbar {\\n  --background: translucent;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2hucG90dHMvcHJvamVjdHMvc3Vydml2b3ItYnJhY2tldC9zcmMvYXBwL2xlYWRlcmJvYXJkL2xlYWRlcmJvYXJkLnBhZ2Uuc2NzcyIsInNyYy9hcHAvbGVhZGVyYm9hcmQvbGVhZGVyYm9hcmQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UseUJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL2xlYWRlcmJvYXJkL2xlYWRlcmJvYXJkLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50IGlvbi10b29sYmFyIHtcbiAgLS1iYWNrZ3JvdW5kOiB0cmFuc2x1Y2VudDtcbn0iLCJpb24tY29udGVudCBpb24tdG9vbGJhciB7XG4gIC0tYmFja2dyb3VuZDogdHJhbnNsdWNlbnQ7XG59Il19 */\"","import { Component } from '@angular/core';\nimport { Player } from '../models/player.model';\nimport { PlayersService } from '../services/players.service';\nimport { SurvivorsService } from '../services/survivors.service';\nimport { Survivor } from '../models/survivor.model';\nimport { Score } from '../models/score.model';\nimport { ScoringService } from '../services/scoring.service';\n\n@Component({\n  selector: 'app-leaderboard',\n  templateUrl: 'leaderboard.page.html',\n  styleUrls: ['leaderboard.page.scss']\n})\nexport class LeaderboardPage {\n  players: Player[] = [];\n  survivors: Survivor[] = [];\n  scores: Score[] = [];\n\n  constructor(private playersService: PlayersService,\n    private survivorsService: SurvivorsService,\n    private scoringService: ScoringService) {\n  }\n\n  ngOnInit() {\n    this.playersService.players.subscribe(\n      players => this.players = players\n    );\n    this.survivorsService.survivors.subscribe(\n      survivors => this.survivors = survivors\n    );\n    this.scoringService.scores.subscribe(\n      scores => {\n        console.log(scores)\n        this.scores = scores;\n        this.players.sort((player1, player2) => this.getPlayerScore(player2.playerId) - this.getPlayerScore(player1.playerId))\n      }\n    );\n  }\n\n  getPlayerSurvivors(playerId: number) {\n    return this.survivors.filter(\n      survivor => survivor.playerId === playerId\n    )\n  }\n\n  getSurvivorScore(survivor: Survivor): number {\n    return this.scores.filter(score => score.survivorId === survivor.survivorId).reduce((totalValue, score) => totalValue += score.value, 0);\n  }\n\n  getPlayerScore(playerId: number): number {\n    return this.getPlayerSurvivors(playerId)\n      .reduce((totalScore, survivor) => totalScore += this.getSurvivorScore(survivor), 0);\n  }\n\n}\n"],"sourceRoot":"webpack:///","file":"leaderboard-leaderboard-module-es5.js"}