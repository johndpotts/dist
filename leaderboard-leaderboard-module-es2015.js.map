{"version":3,"sources":["./src/app/leaderboard/leaderboard.page.html","./src/app/leaderboard/leaderboard.module.ts","./src/app/leaderboard/leaderboard.page.scss","./src/app/leaderboard/leaderboard.page.ts"],"names":[],"mappings":"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","file":"leaderboard-leaderboard-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-title>\\n      Leaderboard\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\">Leaderboard</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n  <ion-img src=\\\"assets/Winners_at_War_Logo.png\\\" style=\\\"margin: 10px 40px 10px 40px;\\\"></ion-img>\\n  <ion-card *ngFor=\\\"let player of players\\\">\\n    <img [src]=\\\"'assets/players/' + player.imagePath\\\"\\n      style=\\\"height:150px; width:150px; border-radius:10px; margin:10px auto 10px auto; display:block\\\" />\\n    <ion-card-header>\\n      <ion-card-subtitle>Score: {{getPlayerScore(player.playerId)}} points</ion-card-subtitle>\\n      <ion-card-title>{{player.firstName}}</ion-card-title>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <ion-list>\\n        <ion-item *ngFor=\\\"let survivor of getPlayerSurvivors(player.playerId)\\\">\\n          <ion-label>{{survivor.firstName}} {{survivor.lastName}} | {{getSurvivorScore(survivor)}} points</ion-label>\\n        </ion-item>\\n      </ion-list>\\n    </ion-card-content>\\n  </ion-card>\\n\\n</ion-content>\"","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { LeaderboardPage } from './leaderboard.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    RouterModule.forChild([{ path: '', component: LeaderboardPage }])\n  ],\n  declarations: [LeaderboardPage]\n})\nexport class LeaderboardPageModule {}\n","export default \"ion-content ion-toolbar {\\n  --background: translucent;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2hucG90dHMvcHJvamVjdHMvc3Vydml2b3ItYnJhY2tldC9zcmMvYXBwL2xlYWRlcmJvYXJkL2xlYWRlcmJvYXJkLnBhZ2Uuc2NzcyIsInNyYy9hcHAvbGVhZGVyYm9hcmQvbGVhZGVyYm9hcmQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UseUJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL2xlYWRlcmJvYXJkL2xlYWRlcmJvYXJkLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50IGlvbi10b29sYmFyIHtcbiAgLS1iYWNrZ3JvdW5kOiB0cmFuc2x1Y2VudDtcbn0iLCJpb24tY29udGVudCBpb24tdG9vbGJhciB7XG4gIC0tYmFja2dyb3VuZDogdHJhbnNsdWNlbnQ7XG59Il19 */\"","import { Component } from '@angular/core';\nimport { Player } from '../models/player.model';\nimport { PlayersService } from '../services/players.service';\nimport { SurvivorsService } from '../services/survivors.service';\nimport { Survivor } from '../models/survivor.model';\nimport { Score } from '../models/score.model';\nimport { ScoringService } from '../services/scoring.service';\n\n@Component({\n  selector: 'app-leaderboard',\n  templateUrl: 'leaderboard.page.html',\n  styleUrls: ['leaderboard.page.scss']\n})\nexport class LeaderboardPage {\n  players: Player[] = [];\n  survivors: Survivor[] = [];\n  scores: Score[] = [];\n\n  constructor(private playersService: PlayersService,\n    private survivorsService: SurvivorsService,\n    private scoringService: ScoringService) {\n  }\n\n  ngOnInit() {\n    this.playersService.players.subscribe(\n      players => this.players = players\n    );\n    this.survivorsService.survivors.subscribe(\n      survivors => this.survivors = survivors\n    );\n    this.scoringService.scores.subscribe(\n      scores => {\n        console.log(scores)\n        this.scores = scores;\n        this.players.sort((player1, player2) => this.getPlayerScore(player2.playerId) - this.getPlayerScore(player1.playerId))\n      }\n    );\n  }\n\n  getPlayerSurvivors(playerId: number) {\n    return this.survivors.filter(\n      survivor => survivor.playerId === playerId\n    )\n  }\n\n  getSurvivorScore(survivor: Survivor): number {\n    return this.scores.filter(score => score.survivorId === survivor.survivorId).reduce((totalValue, score) => totalValue += score.value, 0);\n  }\n\n  getPlayerScore(playerId: number): number {\n    return this.getPlayerSurvivors(playerId)\n      .reduce((totalScore, survivor) => totalScore += this.getSurvivorScore(survivor), 0);\n  }\n\n}\n"],"sourceRoot":"webpack:///"}